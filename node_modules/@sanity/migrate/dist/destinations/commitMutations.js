import { fetchAsyncIterator } from '../fetch-utils/fetchStream.js';
import { concatStr } from '../it-utils/concatStr.js';
import { decodeText } from '../it-utils/decodeText.js';
import { parseJSON } from '../it-utils/json.js';
import { lastValueFrom } from '../it-utils/lastValueFrom.js';
import { mapAsync } from '../it-utils/mapAsync.js';
export async function commitMutations(fetchOptions, options) {
    return mapAsync(fetchOptions, async (opts) => lastValueFrom(parseJSON(concatStr(decodeText(await fetchAsyncIterator(opts))))), options.concurrency);
}
//# sourceMappingURL=commitMutations.js.map