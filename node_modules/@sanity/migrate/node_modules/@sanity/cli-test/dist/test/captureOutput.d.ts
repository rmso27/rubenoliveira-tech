import { type Errors } from '@oclif/core';
export interface CaptureOptions {
    /**
     * Whether to print the output to the console
     */
    print?: boolean;
    /**
     * Whether to strip ANSI escape codes from the output
     */
    stripAnsi?: boolean;
    testNodeEnv?: string;
}
export interface CaptureResult<T = unknown> {
    stderr: string;
    stdout: string;
    error?: Error & Partial<Errors.CLIError>;
    result?: T;
}
/**
 * Capture the output of a command and return the result
 *
 * @param fn - The function to capture the output of
 * @param opts - The options for the capture
 * @returns The result of the command
 * @internal
 *
 * Credits to oclif for the original implementation:
 * https://github.com/oclif/test/blob/2a5407e6fc80d388043d10f6b7b8eaa586483015/src/index.ts
 *
 * We are not using the library directly since it does not support mocking code inside of the command
 * possibly because the commands run in a different thread
 */
export declare function captureOutput<T>(fn: () => Promise<T>, opts?: CaptureOptions): Promise<CaptureResult<T>>;
