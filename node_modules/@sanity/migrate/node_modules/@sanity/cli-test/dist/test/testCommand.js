import { fileURLToPath } from 'node:url';
import { captureOutput } from './captureOutput.js';
import { mockSanityCommand } from './mockSanityCommand.js';
export async function testCommand(command, args, options) {
    // If mocks provided, wrap the command with mockSanityCommand
    const CommandToRun = options?.mocks ? mockSanityCommand(command, options.mocks) : command;
    const commandInstancePromise = ()=>CommandToRun.run(args || [], {
            root: fileURLToPath(import.meta.url),
            ...options?.config
        });
    return captureOutput(commandInstancePromise, options?.capture);
}

//# sourceMappingURL=testCommand.js.map