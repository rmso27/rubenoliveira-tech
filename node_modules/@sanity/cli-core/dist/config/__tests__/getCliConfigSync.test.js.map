{"version":3,"sources":["../../../src/config/__tests__/getCliConfigSync.test.ts"],"sourcesContent":["import {afterEach, beforeEach, describe, expect, test, vi} from 'vitest'\n\nimport {getCliConfigSync} from '../cli/getCliConfigSync'\n\n// Mock node:fs\nvi.mock('node:fs', async () => {\n  const actual = await vi.importActual('node:fs')\n  return {\n    ...actual,\n    existsSync: vi.fn(),\n  }\n})\n\ndescribe('getCliConfigSync', () => {\n  const mockRootPath = '/mock/project'\n\n  beforeEach(() => {\n    vi.clearAllMocks()\n  })\n\n  afterEach(() => {\n    vi.resetAllMocks()\n  })\n\n  test('throws error when no CLI config found', async () => {\n    const {existsSync} = await import('node:fs')\n\n    vi.mocked(existsSync).mockReturnValue(false)\n\n    expect(() => getCliConfigSync(mockRootPath)).toThrow('No CLI config found at')\n  })\n\n  test('throws error when multiple config files found', async () => {\n    const {existsSync} = await import('node:fs')\n\n    vi.mocked(existsSync).mockReturnValue(true)\n\n    expect(() => getCliConfigSync(mockRootPath)).toThrow('Multiple CLI config files found')\n  })\n})\n"],"names":["afterEach","beforeEach","describe","expect","test","vi","getCliConfigSync","mock","actual","importActual","existsSync","fn","mockRootPath","clearAllMocks","resetAllMocks","mocked","mockReturnValue","toThrow"],"mappings":"AAAA,SAAQA,SAAS,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,IAAI,EAAEC,EAAE,QAAO,SAAQ;AAExE,SAAQC,gBAAgB,QAAO,0BAAyB;AAExD,eAAe;AACfD,GAAGE,IAAI,CAAC,WAAW;IACjB,MAAMC,SAAS,MAAMH,GAAGI,YAAY,CAAC;IACrC,OAAO;QACL,GAAGD,MAAM;QACTE,YAAYL,GAAGM,EAAE;IACnB;AACF;AAEAT,SAAS,oBAAoB;IAC3B,MAAMU,eAAe;IAErBX,WAAW;QACTI,GAAGQ,aAAa;IAClB;IAEAb,UAAU;QACRK,GAAGS,aAAa;IAClB;IAEAV,KAAK,yCAAyC;QAC5C,MAAM,EAACM,UAAU,EAAC,GAAG,MAAM,MAAM,CAAC;QAElCL,GAAGU,MAAM,CAACL,YAAYM,eAAe,CAAC;QAEtCb,OAAO,IAAMG,iBAAiBM,eAAeK,OAAO,CAAC;IACvD;IAEAb,KAAK,iDAAiD;QACpD,MAAM,EAACM,UAAU,EAAC,GAAG,MAAM,MAAM,CAAC;QAElCL,GAAGU,MAAM,CAACL,YAAYM,eAAe,CAAC;QAEtCb,OAAO,IAAMG,iBAAiBM,eAAeK,OAAO,CAAC;IACvD;AACF"}