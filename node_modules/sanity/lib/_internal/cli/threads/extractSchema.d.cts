import {extractSchema} from '@sanity/schema/_internal'
import {SchemaValidationProblemGroup} from '@sanity/types'

/** @internal */
export declare interface ExtractSchemaWorkerData {
  workDir: string
  workspaceName?: string
  enforceRequiredFields?: boolean
  format: 'groq-type-nodes' | string
}

/** @internal */
export declare interface ExtractSchemaWorkerError {
  type: 'error'
  error: string
  validation?: SchemaValidationProblemGroup[]
}

/** @internal */
export declare type ExtractSchemaWorkerMessage =
  | ExtractSchemaWorkerResult
  | ExtractSchemaWorkerError

/** @internal */
export declare interface ExtractSchemaWorkerResult {
  type: 'success'
  schema: ReturnType<typeof extractSchema>
}

export {}
